import{r as s}from"./index.8c0d64d9.js";function o(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function w(e,t){return s.exports.useMemo(()=>e==null&&t==null?null:r=>{o(e,r),o(t,r)},[e,t])}let u=!0,l=!1,a;const f={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function d(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&f[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function y(e){e.metaKey||e.altKey||e.ctrlKey||(u=!0)}function i(){u=!1}function h(){this.visibilityState==="hidden"&&l&&(u=!0)}function m(e){e.addEventListener("keydown",y,!0),e.addEventListener("mousedown",i,!0),e.addEventListener("pointerdown",i,!0),e.addEventListener("touchstart",i,!0),e.addEventListener("visibilitychange",h,!0)}function b(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return u||d(t)}function E(){const e=s.exports.useCallback(n=>{n!=null&&m(n.ownerDocument)},[]),t=s.exports.useRef(!1);function r(){return t.current?(l=!0,window.clearTimeout(a),a=window.setTimeout(()=>{l=!1},100),t.current=!1,!0):!1}function c(n){return b(n)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:c,onBlur:r,ref:e}}export{E as a,w as u};
